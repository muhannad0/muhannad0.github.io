<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.69.0"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=author content="Mohamed Muhannad"><meta name=keywords content="docker,dev"><meta name=description content="Preparing your machine for dev work is always a time consuming thing. It sometimes gets in the way of trying to do the actual thing you set out to do. I want to share how I got started with learning a new language, framework etc without having to spend much time setting things up."><meta property="og:title" content="Using Docker to Setup Environtments Quickly for Coding"><meta property="og:description" content="Preparing your machine for dev work is always a time consuming thing. It sometimes gets in the way of trying to do the actual thing you set out to do. I want to share how I got started with learning a new language, framework etc without having to spend much time setting things up."><meta property="og:type" content="article"><meta property="og:url" content="https://muhannad0.github.io/post/using-docker-to-setup-env-quickly-for-coding/"><meta property="og:image" content="https://muhannad0.github.io/images/post-images/docker-for-lang-docker-container.jpg"><meta property="article:published_time" content="2020-05-26T03:14:36+05:00"><meta property="article:modified_time" content="2020-05-26T03:14:36+05:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://muhannad0.github.io/images/post-images/docker-for-lang-docker-container.jpg"><meta name=twitter:title content="Using Docker to Setup Environtments Quickly for Coding"><meta name=twitter:description content="Preparing your machine for dev work is always a time consuming thing. It sometimes gets in the way of trying to do the actual thing you set out to do. I want to share how I got started with learning a new language, framework etc without having to spend much time setting things up."><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon-16x16.png sizes=16x16><link rel=stylesheet type=text/css media=screen href=https://muhannad0.github.io/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://muhannad0.github.io/css/main.css><link rel=stylesheet type=text/css media=screen href=https://muhannad0.github.io/css/all.css><link rel=stylesheet href=https://muhannad0.github.io/css/katex.min.css crossorigin=anonymous><script defer src=https://muhannad0.github.io/js/katex.min.js integrity=sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz crossorigin=anonymous></script><script defer src=https://muhannad0.github.io/js/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body);></script><link rel=stylesheet type=text/css media=screen href=https://muhannad0.github.io/css/css/custom.css><title>Using Docker to Setup Environtments Quickly for Coding | Muhannad.0</title></head><body><header><div id=avatar><a href=https://muhannad0.github.io/><img src=/images/avatar.jpg alt=Muhannad.0></a></div><div id=titletext><h2 id=title><a href=https://muhannad0.github.io/>Muhannad.0</a></h2></div><div id=title-description><p id=subtitle>mostly about cloud, automation, IT infra, ops. but wait, there&rsquo;s more&mldr;</p><div id=social><nav><ul><li><a href=https://github.com/muhannad0/><i title=Github class="icons fab fa-github"></i></a></li><li><a href=https://www.linkedin.com/in/muhannad0/><i title=LinkedIn class="icons fab fa-linkedin"></i></a></li><li><a href=https://twitter.com/monde_><i title=Twitter class="icons fab fa-twitter"></i></a></li></ul></nav></div></div><div id=mainmenu><nav><ul><li><a href=/>Home</a></li><li><a href=/post>All Posts</a></li><li><a href=/about>About</a></li><li><a href=/tags>Tags</a></li><li><a href=/categories>Categories</a></li></ul></nav></div></header><main><div class=post><div class=author></div><div class=post-header><div class=meta><div class=date><span class=day>26</span>
<span class=rest>May 2020</span></div></div><div class=matter><h1 class=title>Using Docker to Setup Environtments Quickly for Coding</h1></div></div><div class=markdown><p>I&rsquo;ve started to learn couple of languages to get better at coding. But before you could start any actual coding, you would need to setup the environment for these languages/frameworks.</p><p>Let&rsquo;s start by describing how I did things earlier. I&rsquo;d use Virtualbox to create a virtual machine (VM), install the operating system (OS), install the necessary packages, get the binaries, figure out how to share a folder (that has my source code) on the host to the guest OS, enable networking so that I could load stuff of my browser. That&rsquo;s quite a list of activities.</p><p>Now, you could automate all this using something like Vagrant and couple of scripts to bootstrap the machine. But there&rsquo;s a few disadvantages I find with this method:</p><ul><li>Having to wait a while to set things up (even though it&rsquo;s automated, it still takes significant time until everything is ready)</li><li>Use of a VM starts eating up your resources, especially if you&rsquo;re trying to use multiple services.</li><li>This would mean we need really high-end workstations (need moar RAM!) which equals more $$$.</li><li>Setting up shared folder between host and guest OS. This can get troublesome when you have multiple machines for different projects.</li></ul><p>Don&rsquo;t get me wrong, I think there&rsquo;s still a place for VMs and using tools like Vagrant or Ansible to set things up. You could be testing a pre-built image, or replicate some infrastructure service like an appliance or cluster etc. But in this case, it&rsquo;s not for the dev environment setup anymore, in my opinion.</p><h2 id=enter-containers>Enter Containers</h2><p><img src=/images/post-images/docker-for-lang-docker-container.jpg alt="Docker Container">
Containers enables the dev environment to skip the guest OS overhead, start up faster and save more disk space compared to VMs. <a href=https://twitter.com/nickjanetakis>Nick Janetakis</a> has good comparison on how both containers and virtual machines differ. Check it out if you&rsquo;d like to learn more about it.</p><ul><li><a href=https://nickjanetakis.com/blog/comparing-virtual-machines-vs-docker-containers>Comparing Virtual Machines vs Docker Containers</a></li></ul><figure><img src=/images/post-images/docker-for-lang-nickjj-comparing-virtual-machines-vs-docker-containers.jpg><figcaption><h4>VM vs Docker Container Comparison - Image credits to Nick Janetakis</h4></figcaption></figure><h3 id=basic-usage>Basic Usage</h3><p>Let&rsquo;s look a simple way to get an environment setup. Say you wanted to to just test a language and remove it once you&rsquo;re done. You already have the instructions provided on the guide open in your browser.</p><p>Start with getting a base OS image. I usually go with an Ubuntu LTS image, since I&rsquo;m more familiar with it. (But Alpine seems to be a good distro if you&rsquo;re looking for smaller sized images.)</p><p>Pull down the image from Dockerhub:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>docker pull ubuntu:bionic
</code></pre></div><p>In your project directory, run the container with some options which I&rsquo;ll explain below:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>docker container run --rm -it -w /app -v $PWD:/app -p 5000:5000 ubuntu:bionic
</code></pre></div><p>You&rsquo;ll be taken to the container prompt where you start your installation.
<img src=/images/post-images/docker-for-lang-basic-install-packages.png alt="Install Packages in Container"></p><p>Now you can create your source files, run the application and watch the changes on your browser (or terminal depending on what kind of language/framework you&rsquo;re testing)
<img src=/images/post-images/docker-for-lang-basic-run-python.png alt="Running app in Container"></p><p>Important thing here is know what the purpose of the options are when you&rsquo;re starting up the container.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>--rm  <span style=color:#75715e># Automatically remove the container when it exits</span>
-it <span style=color:#75715e># Allocate an interactive pseudo-TTY</span>
-w /app <span style=color:#75715e># Set the working directory inside the container</span>
-v $PWD:/app <span style=color:#75715e># Bind mount a volume. Format is hostDirectory:containerDirectory ($PWD passes the current host directory)</span>
-p 5000:5000 <span style=color:#75715e># Publish a containerâ€™s port(s) to the host. Format is hostPort:containerPort</span>
</code></pre></div><p>Once done, just exit and the container is gone, poof! (Note that you&rsquo;ve lost all your work, which may or may not be a happy thing. ðŸ˜¨)</p><h3 id=get-going-even-faster>Get Going Even Faster</h3><p>Now that you&rsquo;ve tested a couple of setups and got the general idea of how Docker can be used, I&rsquo;d like to show an even quicker way of getting things running.</p><p><a href=https://hub.docker.com/>Dockerhub</a> is where you need to look if you want skip the manual commands required and get started with an already built image. You&rsquo;ll be able to find pretty much a variety of images that can help you get started even faster. That&rsquo;s the beauty of open source, it allows you to build on top of what others have worked on.</p><p>I&rsquo;ll highlight a few specific languages/runtime examples that you can try out.</p><h4 id=php><strong>PHP</strong></h4><p>You want to build a PHP application. Great, head over to Dockerhub and search for the available PHP images. Pick one that&rsquo;s suitable for your needs. These are usually based on the type of OS, size of the image, version etc.</p><p>Start up your container using:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>docker container run --rm -it -v $PWD:/var/www/html -p 80:80 php:7.4-apache
</code></pre></div><p><em>Note: There are few changes to the command above because of the way the Docker image is built. Refer to the documentation provided by the maintainer to figure out which volumes, ports and other options to use.</em></p><p>Write your code. Run it! Awesome!
<img src=/images/post-images/docker-for-lang-basic-run-php.png alt="PHP Container"></p><h4 id=nodejs><strong>NodeJS</strong></h4><p>Ah, you want to be gain some back-end JS skills. That&rsquo;s alright. Let&rsquo;s pick a node image from Dockerhub and run it.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>docker container run --rm -it -w /app -v $PWD:/app -p 3000:3000 node:12-slim /bin/bash
</code></pre></div><p>Write your code. Run it!
<img src=/images/post-images/docker-for-lang-basic-run-node.png alt="NodeJS Container"></p><h2 id=conclusion>Conclusion</h2><p>VMs does have its uses for testing things out. But using Docker to create your dev environments is much quicker, flexible and space saving. It allows us to skip a lot of work by using already built images available on Dockerhub.</p><p>You can focus your efforts on doing actual coding without having to worry much about the setup. If you use a Dockerfile to package up your application and check it into source control, you can be pretty sure that another developer can pick up on your work without having to run into complains like &lsquo;it runs on my machine&rsquo;.</p><p>If there&rsquo;s any other Docker topics you&rsquo;d like me to explore, feel free to reach out on <a href=https://twitter.com/monde_>Twitter</a>.</p></div><div class=tags><div class=taxosfloating_left><p>Categories</p></div><div class=termsfloating_right><p><a href=/categories/guide/>guide</a></div><div class=clearit></div><div class=taxosfloating_left><p>Tags</p></div><div class=termsfloating_right><p><a href=/tags/dev/>dev</a>
<a href=/tags/docker/>docker</a></div><div class=clearit></div></div></div></main><footer><a href=https://github.com/dataCobra/hugo-vitae>Vitae</a> theme for <a href=https://gohugo.io>Hugo</a>
<script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-166606040-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></footer></body></html>